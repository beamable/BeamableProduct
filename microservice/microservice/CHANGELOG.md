# Changelog

All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.1.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [3.1.0] - Unreleased

### Added
- Providing `BEAM_REQUIRE_PROCESS_ID` environment variable will cause microservice to quit when configured process terminates. [#3839](https://github.com/beamable/BeamableProduct/issues/3839)

## [3.0.1] - 2024-12-09

### Fixed
- Fixed issue that caused the OAPI Generation to fail with an exception if you put `BeamGenerateSchema` on a type that was already used in a `Callable` signature.
  - This implies that you can now reuse `BeamGenerateSchema` types for both custom notifications AND `Callable` signatures.

## [3.0.0] - 2024-12-04

### Added
- `Net8.0` support
- Microservices can accept federation traffic locally without needing to be deployed
- Microservices can have local developer settings in the `.beamable/temp/localDev` folder
- Microservice federations must exist in a special config file, `federations.json`
- Added `BeamGenerateSchemaAttribute` that can be used to include custom types declared inside microservices in the service's OpenAPI spec's schema list.
  This includes the type in the list of types generated by client-code generation.
  This can be used to avoid having to sync schemas between Unreal (or any non-C# product) and the services/storages that use them.
- `admin/metadata` route will return sdk version and other metadata about a running service.

### Changed
- Dockerfiles are simplified. Deployment builds occur on the host machine and are copied into build image.
- Microservices classes must be marked with the `partial` keyword
- `IThirdPartyCloudId` renamed to `IFederationId`
- `IThirdPartyCloudId` subtypes require a `[FederationId]` attribute with a string argument equal to the old `.UniqueName` property
- Microservice projects should reference `Beamable.Microservice.SourceGen`
- Microservice uses `routingKey` instead of `prefix` for HTTP routing
- `AssumeUser` was renamed to `AssumeNewUser`
- `RequestDataHandler` was renamed to `UserRequestDataHandler`

### Fixed
- services running locally will use adaptive port bindings to avoid port collisions
- JoinTournaments api now propagates the tournamentId to the inner GetPlayerStatus call, which reduces the amount of data fetched
- calling `Context.Services.Inventory.GetItems()` will no longer break when items reference deleted content
- Microservices have improved thread-safety when sending messages to Beamable.
- `AssumeUser` now returns a disposable object, memory usage improvements
- `[Callable]` methods no longer produce `AccountNotFoundError` errors when emitting Beamable API calls with valid playerIds.
