# Changelog
All notable changes to this project will be documented in this file.

The format is based on [Keep a Changelog](https://keepachangelog.com/en/1.0.0/),
and this project adheres to [Semantic Versioning](https://semver.org/spec/v2.0.0.html).

## [0.18.2]
### Fixed
- Typless `Promise` in `ClientCallable` methods
- Autogenerated client code errors for generic class and arrays.

## [0.18.1]
### Added
- Support for returning `Promise` from `ClientCallable` method

### Fixed
- Autogenerated client code null reference exception and list errors.

## [0.18.0]
### Added
- `ApiContent` classes and execution methods allow you to invoke microservices with data
- `InitializeServicesAttribute` can now be used over static methods to declare initialization hooks in microservices. Supported signatures are async/regular `
  Task(IServiceInitializer)`, async/regular `Promise<Unit>(IServiceInitializer)` and synchronous `void(IServiceInitializer)`.
  `void` methods must be fully synchronous --- it is not possible to guarantee that any promises started within a `void` initialization
  method will have completed by the time the microservice is receiving traffic.
- Exposed `CreateLeaderboard` methods in `IMicroserviceLeaderboardsApi` to enable the dynamic creation of leaderboards in microservices (can take a `LeaderboardRef` as a template or explicit parameters).
- Folding/Unfolding services cards in `Microservice Manager`
- Added clearer unsupported message for microservice's implementation of `IAuthService.GetUser(TokenResponse)`
- Added support for `Dictionary` serialization in `ClientCallable` methods using `SmallerJSON`

### Changed
- Renamed `build and run` to `play` buttons in `Microservice Manager` to be more intuitive
- Can have multiple `ConfigureServicesAttribute` and `InitializeServicesAttribute` explicitly ordered via `ExecutionOrder` property of the attributes.

## [0.17.4]
### Fixed
- Publish loading bars

## [0.17.4]
### Fixed
- Publish loading bars

## [0.17.3]
### Added
- Add `IMicroserviceStatsApi.GetAllProtectedPlayerStats` method without filtering stats

### Fixed
- Filters now work for `IMicroserviceStatsApi.GetProtectedPlayerStats`

## [0.17.2]
### Fixed
- Store Microservice window height between reloads
- Serialization support for `Vetor2Int` and `Vector3Int` as input parameters to `ClientCallable` methods
- Serialization support for raw JSON strings as input parameters to `ClientCallable` methods

## [0.17.1]
- no changes

## [0.17.0]
### Added
- Local Mongo Storage Preview
- Ability to use Promises as a return type for `ClientCallable` methods
- RemoteOnly Microservices visible in Miscroservice window
- Deployed Microservice instances will be automatically re-run if they become unhealthy

### Fixed
- Microservice clients can now deserialize Json lists
- Microservice log view stays focused on bottom of log feed

### Changed
- Generated services no longer include the class name in the namespace

## [0.16.0]
### Added
- New Microservices Manager window
- Local microservice health checks are accessible on container port 6565
- Snyk testing for microservices
- Ability to categorize `[ClientCallable]` methods in documentation with `[SwaggerCategory]`

### Changed
- Beamable Platform errors all extend from `RequesterException` in Unity Client and microservice code

### Fixed
- Visual Studio Code debug configuration source maps are now correct
- `AssumeUser()` no longer throws null reference

## [0.15.0]
### Added
- Commerce Service AccelerateListingCooldown support to reduce the cooldown on a listing


## [0.14.3]
- JSON Serialization error in Stats API
- `AssumeUser()` no longer throws null reference


## [0.14.2]
### Fixed
- Namespace declarations starting with Editor, and removed un-used class PopupBtn


## [0.14.1]
- no changes


## [0.14.0]
### Added
- Dependency Injection system
- ISerializationCallbackReceiver for request and response objects used in `[ClientCallable]` methods
- Custom routing prefix setting in `MicroserviceConfiguration`

## [0.13.0]
### Added
- Added a difference check at Microservice Deployment time, so that microservices that have not changed are not reuploaded.
- Added a RealmConfig service to available Services. This can be used to read protected realm settings.

## [0.11.0]
### Changed
- Changed response serialization from Microservice. Use UseLegacySerialization to maintain old behaviour.

### Added
- Added a cache for content fetches.
- Added Doc Url to package.json.
- Added Open API 3.0 auto-generative documentation.
- Added AdminOnlyCallable version of ClientCallable that requires caller to have full scopes.
- Added requiredScopes field to ClientCallable that requires caller to have required scopes.

### Fixed
- Fixes leaderboard and stat fetching cache errors.
- Fixes null reference bug when passing null to [ClientCallable] arrays.
