using Beamable.Api.Autogenerated.Leaderboards;
using Beamable.Api.Autogenerated.Models;
using Beamable.Common;
using Beamable.Common.Api;
using Beamable.Coroutines;
using System;

namespace Beamable.Player
{
	
	[Serializable]
	public class PlayerNearbyScoresList : PlayerScoreList
	{

		public PlayerNearbyScoresList(IPlayerLeaderboardFriend board, ILeaderboardsApi api, IUserContext ctx, CoroutineService coroutineService)
			: base(board, api, ctx, coroutineService)
		{
		}
		
		protected override Promise<LeaderBoardViewResponse> CreateRequest(LeaderboardAssignmentInfo info)
		{
			return _api.ObjectGetView(info.leaderboardId, focus: _ctx.UserId, max: Size, outlier: _ctx.UserId);
		}

		public PlayerNearbyScoresList LoadCount(int totalSize)
		{
			_size = totalSize;
			var _ = Refresh();
			return this;
		}

		public new async Promise<PlayerNearbyScoresList> Refresh()
		{
			await base.Refresh();
			return this;
		}
	}


}
