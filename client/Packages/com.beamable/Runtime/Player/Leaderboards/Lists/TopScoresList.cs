using Beamable.Api.Autogenerated.Models;
using Beamable.Common;
using Beamable.Common.Dependencies;
using System;

namespace Beamable.Player
{

	[Serializable]
	public class PlayerTopScoresList : PlayerScoreList
	{
		public PlayerTopScoresList(IPlayerLeaderboardFriend board, IDependencyProvider provider)
			: base(board, provider)
		{
			
		}
		
		protected override Promise<LeaderBoardViewResponse> CreateRequest(LeaderboardAssignmentInfo info)
		{
			return _api.ObjectGetView(objectId: info.leaderboardId, 
			                          from: 0, 
			                          max: viewSize, 
			                          outlier: _ctx.UserId);
		}

		public PlayerTopScoresList LoadCount(int totalSize)
		{
			_viewSize = totalSize;
			var _ = Refresh();
			return this;
		}

		
		public new async Promise<PlayerTopScoresList> Refresh()
		{
			await base.Refresh();
			return this;
		}

	}

}
