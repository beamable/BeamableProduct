using Beamable.NewTestingTool.Core.Models;
using System;
using System.Collections.Generic;
using System.Linq;
using UnityEngine;

namespace Beamable.NewTestingTool.Core
{
	public class TestConfiguration : ScriptableObject
	{
		public Action OnTestFinished;
		public Action OnAllTestsFinished;

		public KeyCode ToggleTestUIKey => toggleTestUIKey;
		
		[SerializeField] private KeyCode toggleTestUIKey;
		
		public List<RegisteredTestScene> RegisteredTestScenes => _registeredTestScenes;
		
		[Header("[AUTOGENERATED - DO NOT MODIFY IT MANUALLY!]")]
		[SerializeField] private List<RegisteredTestScene> _registeredTestScenes = new List<RegisteredTestScene>();

		public void RegisterTests(RegisteredTestScene registeredTestScene) =>
			_registeredTestScenes.Add(registeredTestScene);

		public RegisteredTestScene GetRegisteredTestScene(string sceneName) =>
			_registeredTestScenes.FirstOrDefault(x => x.SceneName == sceneName);

		public void Reset() => _registeredTestScenes.Clear();
	}
}
